<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MediStore - Admin Dashboard</title>
  <!-- ✅ Add CSS/JS here so styles always load -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/master.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <div id="masterMount"></div>

  <script>
    async function mountMasterAndContent() {
      // Load master template
      const res = await fetch('./master_template.html');
      const html = await res.text();

      // Create a DOM to extract body content
      const parser = new DOMParser();
      const doc = parser.parseFromString(html, 'text/html');

      // ✅ Replace only body content, keep head intact
      document.getElementById('masterMount').innerHTML = doc.body.innerHTML;

      // Now inject page-specific content
      document.getElementById('sectionTitle').innerText = 'Dashboard Overview';

      const content = `
        <div id="dashboardSection">
          <p class="lead">Welcome back, Admin. Use the sidebar to manage your store.</p>
          <div class="row g-3">
            <div class="col-md-4">
              <div class="custom-card p-4">
                <h5 class="mb-2">Products</h5>
                <p class="text-muted">View, add, update, and delete products.</p>
                <a href="./view_product.html" class="btn btn-primary btn-sm">Go to Products</a>
              </div>
            </div>
            <div class="col-md-4">
              <div class="custom-card p-4">
                <h5 class="mb-2">Orders</h5>
                <p class="text-muted">Manage customer orders.</p>
                <a href="./manage_orders.html" class="btn btn-primary btn-sm">Go to Orders</a>
              </div>
            </div>
            <div class="col-md-4">
              <div class="custom-card p-4">
                <h5 class="mb-2">Users</h5>
                <p class="text-muted">View all users and their orders.</p>
                <a href="./manage_users.html" class="btn btn-primary btn-sm">Go to Users</a>
              </div>
            </div>
          </div>
        </div>
      `;
      document.getElementById('pageContent').innerHTML = content;
    }

    mountMasterAndContent();
  </script>

  <!-- ✅ Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
